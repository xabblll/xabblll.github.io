<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>JS Manifest test</h1>
<a href="pages/TestBlogPage.html">other link</a>
<p id="demo"></p>
</body>
</html>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    // function readTextFile(file)
    // {
    //     let rawFile = new XMLHttpRequest();
    //     let outputText = "";
    //     rawFile.open("GET", file, false);
    //     rawFile.onreadystatechange = function ()
    //     {
    //         if(rawFile.readyState === 4)
    //         {
    //             if(rawFile.status === 200 || rawFile.status == 0)
    //             {
    //                 outputText = rawFile.responseText;
    //             }
    //         }
    //     }
    //     rawFile.send(null);
    //     return outputText;
    // }
    
    function loadManifestJson()
    {
        let jsonString = "";
        console.log("Reading JSON...");
        $.getJSON("https://xabblll.github.io/_manifest.json", function(data){
            console.log("data read 1" + data);
            jsonString = data;
        });
        if(jsonString === "")
            $.getJSON("https://xabblll.github.io/master/_manifest.json", function(data){
                console.log("data read 2" + data);
                jsonString = data;
            });
        if(jsonString === "")
            $.getJSON("https://github.com/xabblll/xabblll.github.io/blob/master/_manifest.json", function(data){
                console.log("data read 3" + data);
                jsonString = data;
            });
        if(jsonString === "")
            $.getJSON("https://github.com/xabblll/xabblll.github.io/blob/9d91e73019830e68a4649ece5ebfd13c03536482/_manifest.json", function(data){
                console.log("data read 4" + data);
                jsonString = data;
            });
        return JSON.parse(jsonString);
    }
    
    let manifest = loadManifestJson();
    
    let html = '<h4>Pages</h4>';
    for(let i = 0; i < manifest.length; i++)
    {
        let item = manifest[i];
        html += '<li><a href="'+item.path+'">' + item.name + '</a></li>';
    }
    
    document.getElementById("demo").innerHTML = html;
</script>

